# 6장 AOP

- AOP(Aspect-Oriented Programming)는 IoC/DI, 서비스 추상화와 함께 스프링의 3대 핵심 기반 기술 중 하나
- AOP는 용어와 개념이 다소 어려워 충분한 이해가 뒷받침될 때 효과적으로 활용할 수 있다.
- 스프링에서 대표적으로 AOP가 적용된 사례는 선언적 트랜잭션 관리이다.

## 6.1 트랜잭션 코드의 분리

- UserService는 트랜잭션 기술에 독립적이고, 메일 발송 기술과 환경에 종속되지 않도록 다듬어 왔다.
- 하지만 트랜잭션 경계 설정을 위한 코드가 존재한다.

### 6.1.1 메서드 분리

- 비즈니스 로직과 트랜잭션을 담당하는 두 가지 종류의 코드가 구분되어 있다.
- 두 코드 간에 주고받는 정보가 없다.
- 메서드 추출을 통해 독립시킬 수 있다.(소스 참고)

### 6.1.2 DI를 이용한 클래스의 분리

- 여전히 트랜잭션을 담당하는 기술적 코드가 `UserService`에 존재한다.
- DI 적용을 이용한 트랜잭션 분리
    - 현재 `UserService`는 클래스로 구현 클래스를 직접 참조하는 경우의 전형적인 단점을 가지고 있다.
        - 트랜잭션 코드를 `UserService` 밖으로 빼버리면 클라이언트는 트랜잭션 기능이 빠진 `UserService`를 사용하게 된다.
    
